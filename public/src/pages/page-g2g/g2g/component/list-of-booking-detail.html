<link rel="import" href="list-of-shm.html">
<link rel="import" href="booking-detail.html">
<link rel="import" href="list-of-booking-shm-det.html">
<dom-module id="list-of-booking-detail">

  <template>
    <iron-pages selected="{{pageSelected}}" attr-for-selected="name">
      <div name="list-of-booking">
        <list-of-booking-shm-det data="{{data}}" data-for-select="[[dataForSelect]]"></list-of-booking-shm-det>
      </div>
      <div name="list-of-booking-add">
        <booking-detail data-for-select="[[dataForSelect]]" is-input-disabled="[[!isInputDisabled]]" is-view-seleted="[[!isViewSeleted]]"></booking-detail>
      </div>
      <div name="list-of-booking-shm-det">
        <list-of-shm data-selected="{{dataSelected}}" data-for-select="[[dataForSelect]]"></list-of-shm>
        <!-- <booking-detail></booking-detail> -->
      </div>
    </iron-pages>

  </template>
  <script>
    Polymer({
      is: "list-of-booking-detail",
      behaviors: [
          g2gModelBehavior,
          g2gCongtroller,
      ],
      properties: {
        pageSelected: {
          type: String,
          value:'list-of-booking'
        }
      },
      listeners:{
        '_change-component-book':'_changeComponentBook',
        '_get-shm-detail':'_getShmDetail',
        '_get-fire-shm-detail':'_getFireShmDetail'
      },
      _changeComponentBook:function (data) {
        console.log(data.detail.detail);
        this.set('pageSelected',data.detail.detail)
      },
      _getShmDetail:function (e) {
        console.log(e.detail.detail.book_id);
        this.read('./g2g/shipment_detail/book/id/'+e.detail.detail.book_id,(data)=>{
          this.dataSelected=data;
          this.set('dataForSelect.book_id',e.detail.detail.book_id)
          console.log(this.dataSelected);
          this.set('pageSelected','list-of-booking-shm-det')
        });
      },
      _getFireShmDetail:function (e) {
        // console.log(e.detail.detail.book_id);
        this.read('./g2g/shipment_detail/book/id/'+e.detail.book_id,(data)=>{
          this.dataSelected=data;
        });
      }

    });
  </script>
</dom-module>
