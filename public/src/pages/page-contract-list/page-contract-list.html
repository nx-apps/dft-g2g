<link rel="import" href="./../../../bower_components/polymer/polymer.html">
<!--<link rel="import" href="./../../layout/page-style.html">-->
<link rel="import" href="./../../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="./../../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="./../../../bower_components/nylon-panel/nylon-panel-right.html">
<link rel="import" href="./../../../bower_components/plutonium-breadcrumbs/plutonium-breadcrumbs.html">
<!--<link rel="import" href="components/contract-detail.html">-->
<!--<link rel="import" href="components/list-of-confirm.html">
<link rel="import" href="components/list-of-booking.html">
<link rel="import" href="components/list-of-fee-g2g.html">-->

<link rel="import" href="./../../../bower_components/iron-pages/iron-pages.html">

<link rel="import" href="./components/chart-pie-g2g.html">
<link rel="import" href="./components/contract-detail.html">
<link rel="import" href="./../components/cookie-behavior.html">
<link rel="import" href="./../components/g2g-logic-behavior.html">
<link rel="import" href="./../../layout/shared-styles.html">
<dom-module id="page-contract-list">
    <style media="screen" include="iron-flex iron-flex-factors iron-flex-alignment shared-styles">
         :host {
            --paper-fab-background: var(--paper-light-blue-500);
            --paper-fab-keyboard-focus-background: var(--paper-light-blue-900);
        }

        * {
            font-family: 'CSChatThaiUI', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        .addContract {
            margin: 16px;
            margin-bottom: 80px;
            padding: 7.5px;
        }

        nylon-panel-right {
            --app-toolbar-style: {
                background-color: #FF5000;
            }
        }
        .btnFabBack > paper-fab {
            left: 25px;
            --paper-fab-iron-icon: {
                color: black
            }
            ;
            --paper-fab-background: #fff
            /*--paper-fab-background: #fff;*/
        }
    </style>
    <template>
        <div class="layout vertical">
            <div class="xx horizontal center-justified layout wrap" style="width: 1300px">
                <template is="dom-repeat" items="[[contractList]]">
                    <chart-pie-g2g chart-name="[[item.contract_name]]" data="[[item]]"></chart-pie-g2g>
                </template>
            </div>
        </div>
        <nylon-panel-right title="{{titlePanelRight}}" id="drawerRight" set-width="95%">
            <div align="left">
                <div class="breadcrumbs">
                    <plutonium-breadcrumbs crumbs="{{crumbs}}" selected-crumb="{{crumb}}"></plutonium-breadcrumbs>
                </div>
                <iron-pages selected="{{g2gPageSeleted}}" attr-for-selected="name">
                    <div class="addContract" name="addContract">
                        <contract-detail></contract-detail>
                    </div>
                    <div class="addContract" name="contractDetail">
                        <contract-detail></contract-detail>
                    </div>
                    <div class="addContract" name="listOfConfirm">
                        <list-of-confirm></list-of-confirm>
                    </div>
                    <div class="addContract" name="listOfShipment">
                        <list-of-booking></list-of-booking>
                    </div>
                    <div class="addContract" name="listOfFee">
                        <list-of-fee-g2g></list-of-fee-g2g>
                    </div>
                </iron-pages>
            </div>
        </nylon-panel-right>
        <div class="btnFabBack">
            <paper-fab icon="arrow-back" title="ย้อนกลับ" id="backWard" on-tap="backPage"></paper-fab>
            <paper-tooltip for="addContract" offset="0">ย้อนกลับ</paper-tooltip>
        </div>
        <div class="btnFab">
            <paper-fab icon="add" title="{{localize.label_add_contract}}" id="addContract" on-tap="addContract"></paper-fab>
            <paper-tooltip for="addContract" offset="0">{{localize.label_add_contract}}</paper-tooltip>
        </div>
    </template>
    <script>
        Polymer({
            is: 'page-contract-list',
            behaviors: [ReduxBehavior, nylonBehavior, i18nAction, CookieBehavior,
                contractAction, commonStateAction, commonG2gAction, confirmLetterAction, g2gLogicBehavior,
                bookAction, feeAction, invoiceAction],
            properties: {
                layerContent: {
                    type: String,
                    value: "detailRegExporter"
                },
                contractList: {
                    statePath: 'contract.contractList'
                },
                localize: {
                    statePath: 'i18n.g2g'
                },
                
                crumbs: {
                    statePath: 'commonState.breadCrumbs',
                },
                // feeList: {
                //     type: Object
                // },
                // dataSelected: {
                //     type: Object,
                // },
                // dataForSelected: {
                //     type: Object,
                //     value: { dataForContract: {}, dataForConfirm: {}, dataForBooking: {}, dataForFee: {} }
                // },
                g2gPageSeleted: {
                    type: String,
                    value: 'addContract'
                },
                checkRenderPage: {
                    type: Object,
                    value:
                    {
                        contractDetail: false,
                        listOfConfirm: false,
                        listOfShipment: false,
                        listOfFee: false
                    }
                },
                // titlePanelRight: {
                //     type: String,
                //     value: 'การซื้อขายข้าวระหว่างประเทศ'
                // },
                // pageInConponents: {
                //     type: Object,
                //     value: { listOfConfirm: 'listOfConfirm', listOfShipment: 'listOfShipment' }
                // }
            },
            listeners: {
                // 'refresh-contract': '_getContractList',
                'get-contract-detail': '_getContractDetail',
                'get-list-confirm': '_getListConfirm',
                'get-list-booking': '_getListShipment',
                'get-list-Fee': '_getlistFee',
                'flipDrawer': '_flipDrawer',
                'close-drawer': '_flipDrawerClose',
                // 'name-panel-right': '_namePanelRight',
                // '_set-breadcrumbs': 'setEventBreadcrumbs'
            },
            nylonPageActive: function () {
                // console.log(111);
                // console.log(this.getCookieBhv("buyerId"));
                this.dispatchAction('GET_CONTRACT_OF_BUYER', this.getCookieBhv("buyerId"))
                this.dispatchAction('SET_COUNTRY_NAME_EN', this.getCookieBhv("country_name_en"));
                // console.log(this.getCookieBhv("buyerId"));
                // this.dispatchAction('EXPORTER_GET_TYPE_LIC');
                this.dispatchAction('GET_COMMON_BUYER_LIST');
                this.dispatchAction('GET_COMMON_HAMONIZE_LIST');
                this.dispatchAction('GET_COMMON_CARRIER_LIST');
                this.dispatchAction('GET_COMMON_INCOTERMS_LIST');
                this.dispatchAction('GET_COMMON_NOTIFY_LIST');
                this.dispatchAction('GET_COMMON_PACKAGE_LIST');
                this.dispatchAction('GET_COMMON_PORT_LIST');
                this.dispatchAction('GET_COMMON_SHIP_LIST');
                this.dispatchAction('GET_COMMON_SHIPLINE_LIST');
                this.dispatchAction('GET_COMMON_SURVEYOR_LIST');
            },

            // ready: function () {
            //     Polymer.RenderStatus.afterNextRender(this, () => {
            //     this._getContractList();
            //     this._getDataForContract();
            //     this._getDataForConfirm();
            //     this._getDataForShipment();
            //     });
            // },
            // _getCookie: function (name) {
            //     var value = "; " + document.cookie;
            //     var parts = value.split("; " + name + "=");
            //     if (parts.length == 2) return parts.pop().split(";").shift();
            // },
            // _getUrl: function () {
            //     this._getCookie("buyerId")
            // },
            // // _getContractList
            // _getContractList: function () {
            //     this.read('./g2g/contract/buyer/id/' + this._getCookie("buyerId"), (data) => {
            //     this.set('contractList', data)
            //     });
            // },
            // _getDataForContract: function () {
            //     //use data for contract
            //     this.read(window._config.externalServerCommon + '/api/buyer', (data) => {
            //     this.dataForSelected.dataForContract.buyer = data;
            //     this.notifyPath('dataForSelected.dataForContract.buyer');
            //     });
            //     this.read(window._config.externalServerCommon + '/api/hamonize?group=g2g', (data) => {

            //     data.map((set_name) => {
            //         set_name.type_rice_name_th = '(' + set_name.type_rice_id + ') ' + set_name.type_rice_name_th
            //         set_name.type_rice_name_en = '(' + set_name.type_rice_id + ') ' + set_name.type_rice_name_en
            //     })
            //     // console.log(data);
            //     this.dataForSelected.dataForContract.typeRice = data;
            //     this.notifyPath('dataForSelected.dataForContract.typeRice');
            //     // console.log(this.dataForSelected.dataForContract);
            //     });
            //     this.read(window._config.externalServerCommon + '/api/incoterms', (data) => {
            //     this.dataForSelected.dataForContract.incoterms = data;
            //     this.notifyPath('dataForSelected.dataForContract.incoterms');
            //     });
            //     //end use data for contract
            // },
            // _getDataForShipment: function () {
            //     // call data
            //     this.read(window._config.externalServer + '/api/external/exporter', (data) => {
            //     data.map((set_name) => {
            //         set_name.company_name_th = '' + set_name.exporter_no_name + ' [' + set_name.company_taxno + '] ' + set_name.company_name_th
            //     })
            //     // console.log(data);
            //     this.dataForSelected.dataForBooking.seller = data;
            //     this.notifyPath('dataForSelected.dataForBooking.seller');
            //     // console.log(this.common.seller);
            //     });
            //     this.read(window._config.externalServerCommon + '/api/carrier', (data) => {

            //     // console.log(data);
            //     this.dataForSelected.dataForBooking.carrier = data;
            //     this.notifyPath('dataForSelected.dataForBooking.carrier');
            //     });
            //     //shipline_id
            //     this.read(window._config.externalServerCommon + '/api/shipline/', (data) => {
            //     data.map((item, index) => {
            //         item.text = item.shipline_name
            //     })

            //     this.dataForSelected.dataForBooking.shipline = data;
            //     this.notifyPath('dataForSelected.dataForBooking.shipline');
            //     });
            //     //ship in shipline
            //     this.read(window._config.externalServerCommon + '/api/shipline/ship', (data) => {
            //     data.map((item, index) => {
            //         item.ship.map((sp) => {
            //         sp.text = sp.ship_name
            //         })
            //     })
            //     // console.log(data);
            //     this.dataForSelected.dataForBooking.shipInShipline = data;
            //     this.notifyPath('dataForSelected.dataForBooking.shipInShipline');
            //     });
            //     //get surveyor_id
            //     this.read(window._config.externalServerCommon + '/api/surveyor', (data) => {
            //     this.dataForSelected.dataForBooking.surveyor = data;
            //     this.notifyPath('dataForSelected.dataForBooking.surveyor');
            //     });
            //     // list port
            //     this.read(window._config.externalServerCommon + '/api/port/', (data) => {
            //     this.dataForSelected.dataForBooking.countryPort = data;
            //     this.notifyPath('dataForSelected.dataForBooking.countryport');
            //     });
            //     // console.log(this.dataForSelected.dataForBooking);
            // },
            // // end_getContractList
            // _getDataForConfirm: function () {
            //     //ชนิดข้าวเอามาจากสัญญา
            //     this.read(window._config.externalServerCommon + '/api/package', (data) => {
            //     this.dataForSelected.dataForConfirm.package = data;
            //     this.notifyPath('dataForSelected.dataForConfirm.package');
            //     });
            //     this.read(window._config.externalServerCommon + '/api/incoterms', (data) => {
            //     this.dataForSelected.dataForConfirm.incoterms = data;
            //     this.notifyPath('dataForSelected.dataForConfirm.incoterms');
            //     });
            // },
            // setEventBreadcrumbs: function (data) {
            //     this.setBreadcrumbs(data.detail)
            // },
            // setBreadcrumbs: function (data) {
            //     this.set('crumbs', data)
            // },
            // //addContract
            addContract: function () {
                this.dispatchAction('SET_BREADCRUMBS', [{
                    label: 'เพิ่มสัญญา',
                    href: ''
                }])
                // let datass = [
                //     {
                //         label: 'เพิ่มสัญญา',
                //         href: ''
                //     },
                // ]
                // this.setBreadcrumbs(datass)
                // this.g2gPageSeleted = 'addContract';
                this.titlePanelRight = 'เพิ่มข้อมูลผู้สั่งซื้อ'
                this.g2gPageSeleted = 'addContract'
                this.fire('toast', { status: 'load' });
                this.dispatchAction('SET_STATE', {
                    isInsert: true,
                    btnDisabled: false,
                    hiddend: true
                })
                this.dispatchAction('CLEAR_CONTRACT')
                this.async(() => {
                    this.fire('toast', {
                        status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                            this._flipDrawer();
                        }
                    })

                }, 500)
            },
            _getContractDetail: function (e) {
                this.dispatchAction('SET_BREADCRUMBS', [{
                    label: 'สัญญาที่ ' + e.detail.contract_no,
                    href: ''
                }])
                // console.log(e.detail.contract_id);
                this.dispatchAction('GET_CONTRACT', e.detail.contract_id)
                this.g2gPageSeleted = 'contractDetail'
                // // console.log(typeof e.detail.data === 'undefined');
                // if (typeof e.detail.data !== 'undefined') {
                this.titlePanelRight = 'สัญญาที่  : ' + e.detail.contract_no
                // let datass = [
                //     {
                //     label: e.detail.data.contract_name,
                //     href: ''
                //     },
                //     {
                //     label: 'รายละเอียดสัญญา',
                //     href: ''
                //     },
                // ]
                // this.setBreadcrumbs(datass)
                // }
                // if (typeof e.detail.contractId === "undefined") {
                this.fire('toast', { status: 'load' });
                this.dispatchAction('SET_STATE', {
                    isInsert: false,
                    btnDisabled: true,
                    hiddend: true
                })
                this.async(() => {
                    this.fire('toast', {
                        status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                            this._flipDrawer();
                        }
                    })
                }, 500)
            },
            _getListConfirm: function (e) {
                // console.log(e.detail)
                let url = { contract_id: e.detail.contract_id, status: 'all' }
                this.dispatchAction('SET_BREADCRUMBS', [{
                    label: 'สัญญาที่ ' + e.detail.contract_no,
                    href: ''
                }])
                this.dispatchAction('GET_CONFIRM_LIST', this.genUrl(url))
                this.dispatchAction('GET_HAMONIZE_OF_CONTRACT', this.genUrl(url))
                this.dispatchAction('GET_CONFIRM_EXPORTER_LIST', this.genUrl(url))
                this.dispatchAction('GET_CONFIRM_EXCHANG_RATE')
                this.g2gPageSeleted = 'listOfConfirm'
                this.dispatchAction('SET_PAGE_AND_SEARCH', { page: 'listOfConfirm', search: '' })
                // console.log(11111)
                //     this.set('pageSelected', 'listOfConfirm')
                //     // listOfConfirm
                //     this.g2gPageSeleted = 'listOfConfirm';
                //     if (typeof e.detail.contractId == "undefined") {
                //     // console.log(e.detail.data)
                this.titlePanelRight = 'สัญญาที่  : ' + e.detail.contract_no
                //     let datass = [
                //         {
                //         label: e.detail.data.contract_name,
                //         href: ''
                //         },
                //         {
                //         label: 'รายการสัญญาย่อย',
                //         href: ''
                //         },
                //     ]
                //     this.setBreadcrumbs(datass)
                this.dispatchAction('SET_STATE', {
                    isInsert: false,
                    btnDisabled: false,
                    hiddend: true,
                })
                let contractData = {
                    contract_id: e.detail.contract_id,
                    contract_no: e.detail.contract_no,
                    contract_status: e.detail.contract_status,
                    contract_weight_book_balance: e.detail.contract_weight_book_balance,
                }
                this.dispatchAction('SET_CONTRACT_ID', contractData)
                // console.log(11111)
                // console.log(e.detail.contract_id)
                this.fire('toast', { status: 'load' });
                if (this.checkRenderPage.listOfConfirm != true) {
                    this.async(() => {
                        this.importHref(
                            this.resolveUrl('./components/list-of-confirm.html'),
                            () => {
                                this.fire('toast', {
                                    status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                                        this._flipDrawer();
                                        this.checkRenderPage.listOfConfirm = true;
                                    }
                                })
                            }, null, true
                        );
                    }, 1000);
                } else {
                    this.fire('toast', {
                        status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                            this._flipDrawer();
                        }
                    })
                }
                //     let exporter = []
                //     e.detail.data.exporter.map((exporters) => {
                //         exporter.push({
                //             exporter_id: exporters.exporter_id,
                //             label: '' + exporters.exporter_no + ' [' + exporters.company_taxno + '] ' + exporters.company_name_th,
                //             company_id: exporters.company_id
                //         })
                //     })
                //     this.dataSelected = e.detail.data;
                //     this.set('dataForSelected.dataForConfirm.contract_id', e.detail.data.contract_id);
                //     this.set('dataForSelected.dataForConfirm.exporters', exporter);
                //     this.set('dataForSelected.dataForConfirm.contract_status', e.detail.data.contract_status);
                //     this.set('dataForSelected.dataForConfirm.buyer_id', e.detail.data.buyer_id);
                //     this.set('dataForSelected.dataForConfirm.country_id', e.detail.data.country_id);
                //     } else {
                //     this._getContractList();
                //     this.read('./g2g/contract/buyer/id/' + this._getCookie("buyerId"), (data) => {
                //         // console.log(e.detail)
                //         let contractId = e.detail.contractId;
                //         // console.log(contractId)
                //         let dataContract = data.filter((contractList) => contractList.contract_id == contractId);
                //         let exporter = []
                //         dataContract[0].exporter.map((exporters) => {
                //             exporter.push({
                //                 exporter_id: exporters.exporter_id,
                //                 label: '' + exporters.exporter_no + ' [' + exporters.company_taxno + '] ' + exporters.company_name_th,
                //                 company_id: exporters.company_id
                //             })
                //         })

                //         this.dataSelected = dataContract[0];
                //         this.set('dataForSelected.dataForConfirm.exporters', exporter);
                //     });
                //     }
            },
            _getListShipment: function (e) {
                //     // 
                // console.log(e.detail);
                let url = { contract_id: e.detail.contract_id, status: true }
                this.dispatchAction('GET_CONFIRM_LIST', this.genUrl(url))
                this.dispatchAction('GET_HAMONIZE_OF_CONTRACT', this.genUrl(url))
                this.dispatchAction('SET_BREADCRUMBS', [{
                    label: 'สัญญาที่ ' + e.detail.contract_no,
                    href: ''
                }])
                this.g2gPageSeleted = 'listOfShipment';
                let contractData = { contract_id: e.detail.contract_id, contract_no: e.detail.contract_no }
                this.dispatchAction('SET_CONTRACT_ID', contractData)
                this.dispatchAction('SET_PAGE_AND_SEARCH', { page: 'list-of-booking', search: '' })
                //     // console.log(e.detail.contractId);
                //     if (typeof e.detail.contractId == "undefined") {
                //     this.set('pageSelected', 'list-of-booking')
                this.titlePanelRight = 'สัญญาที่  : ' + e.detail.contract_no
                //     this.set('dataForSelected.dataForBooking.contract_name', e.detail.data.contract_name)
                //     // console.log(this.dataForSelected.dataForBooking)
                //     // console.log(e.detail.data.book);
                //     let datass = [
                //         {
                //             label: e.detail.data.contract_name,
                //             href: ''
                //         },
                //         {
                //             label: 'รายการลำเรือ',
                //             href: ''
                //         },
                //     ]
                //     this.setBreadcrumbs(datass)
                //     this.dataSelected = e.detail.data;
                //     // console.log(this.dataSelected);
                //     this.set('dataForSelected.dataForBooking.book', e.detail.data.book);
                //     // console.log(this.dataForSelected.dataForBooking.book);
                //     this.set('dataForSelected.dataForBooking.contract_id', e.detail.data.contract_id);
                //     this.set('dataForSelected.dataForBooking.buyer_id', e.detail.data.buyer_id);
                //     // console.log(this.dataForSelected.dataForBooking);
                //     this.set('dataForSelected.dataForBooking.country_id', e.detail.data.country_id);
                //     this.set('dataForSelected.dataForBooking.buyer_masks', e.detail.data.buyer_masks);
                this.fire('toast', { status: 'load' });
                if (this.checkRenderPage.listOfShipment != true) {
                    this.async(() => {
                        this.importHref(
                            this.resolveUrl('./components/list-of-booking.html'),
                            () => {
                                this.async(() => {
                                    this.fire('toast', {
                                        status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                                            this._flipDrawer();
                                            this.checkRenderPage.listOfShipment = true;
                                        }
                                    })
                                    // console.log(this.dataForSelected.dataForContract);

                                }, 500)
                            }, null, true
                        );
                    }, 1000);
                } else {
                    this.async(() => {
                        this.fire('toast', {
                            status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                                this._flipDrawer();
                            }
                        })
                    }, 1000);
                }
                //     } else {
                //     let contractId = e.detail.contractId;
                //     // console.log(contractId);
                //     this.read('./g2g/contract/buyer/id/' + this._getCookie("buyerId"), (data) => {
                //         let dataContract = data.filter((contractList) => contractList.contract_id == contractId);
                //         this.dataSelected = dataContract[0];
                //     });
                //     }
            },
            _getlistFee: function (e) {
                try {
                    let url = { contract_id: e.detail.contract_id, view: 'rice' }
                    this.dispatchAction('FEE_GET_LIST_DATA', url)
                    // this.dispatchAction('GET_HAMONIZE_OF_CONTRACT', this.genUrl(url))
                    this.dispatchAction('SET_BREADCRUMBS', [{
                        label: 'สัญญาที่ ' + e.detail.contract_no,
                        href: ''
                    }])
                    // this.backPageFee()
                    this.g2gPageSeleted = 'listOfFee';
                    let contractData = { contract_id: e.detail.contract_id, contract_no: e.detail.contract_no }
                    this.dispatchAction('SET_PAGE_AND_SEARCH', { page: 'listOfFee', search: '' })
                    this.dispatchAction('SET_CONTRACT_ID', contractData)
                    this.titlePanelRight = 'สัญญาที่  : ' + e.detail.contract_no
                    this.fire('toast', { status: 'load' });
                    if (this.checkRenderPage.listOfFee != true) {
                        this.async(() => {
                            this.importHref(
                                this.resolveUrl('./components/list-of-fee-g2g.html'),
                                () => {
                                    this.async(() => {
                                        this.fire('toast', {
                                            status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                                                this._flipDrawer();
                                                this.checkRenderPage.listOfFee = true;
                                            }
                                        })
                                        // console.log(this.dataForSelected.dataForContract);

                                    }, 500)
                                }, null, true
                            );
                        }, 1000);
                    } else {
                        this.async(() => {
                            this.fire('toast', {
                                status: 'success', text: 'โหลดสำเร็จ', callback: () => {
                                    this._flipDrawer();
                                }
                            })
                        }, 1000);
                    }
                    //     this.read('./g2g/fee/contract/id/' + e.detail.data.contract_id, (data) => {
                    //         //ปัญหาตรงนี้
                    //         this.set('pageSelected', 'listOfFee')
                    //         this.feeList = data;
                    //         this.titlePanelRight = 'ค่าธรรมเนียม : ' + e.detail.data.contract_name
                    //         this.dataForSelected.dataForFee.feeListinShm = data;
                    //         this.notifyPath('dataForSelected.dataForFee.feeListinShm');
                    //         let datass = [
                    //             {
                    //                 label: e.detail.data.contract_name,
                    //                 href: ''
                    //             },
                    //             {
                    //                 label: 'รายการค่าธรรมเนียม',
                    //                 href: ''
                    //             },
                    //         ]
                    //         this.set('dataForSelected.dataForFee.contract_name', e.detail.data.contract_name);
                    //         this.setBreadcrumbs(datass)
                    //         this.g2gPageSeleted = 'listOfFee';
                    //         if (this.checkRenderPage.listOfFee != true) {

                    //         this.fire('toast', { status: 'load' });
                    //         this.async(() => {
                    //             this.importHref(
                    //             this.resolveUrl('./g2g/component/list-of-fee-g2g.html'),
                    //             () => {
                    //                 this.async(() => {
                    //                 this.fire('toast', { status: 'load' });
                    //                 // console.log(this.dataForSelected.dataForContract);
                    //                 this._flipDrawer();
                    //                 this.checkRenderPage.listOfFee = true;
                    //                 }, 500)
                    //             }, null, true
                    //             );
                    //         }, 1000);
                    //         } else {
                    //         this._flipDrawer();
                    //         }

                    //     });
                } catch (e) {
                    // console.log(e);
                }
            },
            // okload: function () {
            //     this.checkLoad = true;
            // },
            // // end_addContract
            _flipDrawer: function () {
                Polymer.dom(this.root).querySelector('#drawerRight').open();
            },
            _flipDrawerClose: function () {
                Polymer.dom(this.root).querySelector('#drawerRight').close();
            },
            backPageFee: function () {
                // console.log(this.$$('list-of-fee-g2g'))
                this.$$('list-of-fee-g2g').backPage()
            },
            backPage: function() {
                // console.log(11111);
                // console.log(this.$$('#tab7').checked);
                this.fire('nylon-change-page', { path: '/buyer-list' })
            }
            // _namePanelRight: function (name) {
            //     this.titlePanelRight = name;
            // }
        });
    </script>
</dom-module>